{
   "id":{
      "name":"id",
      "vname":"LBL_NAME",
      "type":"id",
      "required":true,
      "reportable":false,
      "comment":"Unique identifier"
   },
   "deleted":{
      "name":"deleted",
      "vname":"LBL_DELETED",
      "type":"bool",
      "required":false,
      "default":false,
      "reportable":false,
      "comment":"Record deletion indicator"
   },
   "date_entered":{
      "name":"date_entered",
      "vname":"LBL_DATE_ENTERED",
      "type":"datetime",
      "required":true,
      "comment":"Date record created"
   },
   "date_modified":{
      "name":"date_modified",
      "vname":"LBL_DATE_MODIFIED",
      "type":"datetime",
      "required":true,
      "comment":"Date record last modified"
   },
   "modified_user_id":{
      "name":"modified_user_id",
      "rname":"user_name",
      "id_name":"modified_user_id",
      "vname":"LBL_ASSIGNED_TO",
      "type":"assigned_user_name",
      "table":"users",
      "isnull":"false",
      "dbType":"id",
      "reportable":true,
      "comment":"User who last modified record"
   },
   "created_by":{
      "name":"created_by",
      "rname":"user_name",
      "id_name":"modified_user_id",
      "vname":"LBL_ASSIGNED_TO",
      "type":"assigned_user_name",
      "table":"users",
      "isnull":"false",
      "dbType":"id",
      "comment":"User who created record"
   },
   "name":{
      "name":"name",
      "vname":"LBL_NAME",
      "dbType":"varchar",
      "type":"name",
      "len":255,
      "comment":"Name of the group"
   },
   "bundle_stage":{
      "name":"bundle_stage",
      "vname":"LBL_BUNDLE_STAGE",
      "type":"varchar",
      "len":255,
      "comment":"Processing stage of the group (ex: Draft)"
   },
   "description":{
      "name":"description",
      "vname":"LBL_DESCRIPTION",
      "type":"text",
      "comment":"Group description"
   },
   "taxrate_id":{
      "name":"taxrate_id",
      "vname":"LBL_TAXRATE_ID",
      "type":"id"
   },
   "tax":{
      "name":"tax",
      "vname":"LBL_TAX",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Tax rate applied to items in the group",
      "related_fields":[
         "currency_id",
         "base_rate",
         "taxrate_id",
         "new_sub"
      ],
      "formula":"ifElse(and(isNumeric(related($taxrate, \"value\")), equal(related($taxrate, \"status\"), \"Active\")),\n                    currencyMultiply(\n                        rollupConditionalSum($products, \"total_amount\", \"tax_class\", \"Taxable\"),\n                        currencyDivide(related($taxrate, \"value\"), 100)\n                    ),\n                    0\n                )",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "tax_usdollar":{
      "name":"tax_usdollar",
      "vname":"LBL_TAX_USDOLLAR",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Total tax for all items in group in USD",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(and(isNumeric($tax), not(equal($tax, 0))), currencyDivide($tax, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "total":{
      "name":"total",
      "vname":"LBL_TOTAL",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Total amount for all items in the group",
      "related_fields":[
         "currency_id",
         "base_rate",
         "new_sub",
         "tax",
         "shipping"
      ],
      "formula":"currencyAdd($new_sub, $tax, ifElse(isNumeric($shipping), $shipping, 0))",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "total_usdollar":{
      "name":"total_usdollar",
      "vname":"LBL_TOTAL_USDOLLAR",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Total amount for all items in the group in USD",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(isNumeric($total), currencyDivide($total, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "subtotal_usdollar":{
      "name":"subtotal_usdollar",
      "vname":"LBL_SUBTOTAL_USDOLLAR",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Group total minus tax and shipping in USD",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(isNumeric($subtotal), currencyDivide($subtotal, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "shipping_usdollar":{
      "name":"shipping_usdollar",
      "vname":"LBL_SHIPPING",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Shipping charge for group in USD",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(isNumeric($shipping), currencyDivide($shipping, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "deal_tot":{
      "name":"deal_tot",
      "vname":"LBL_DEAL_TOT",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"discount amount",
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"rollupCurrencySum($products, \"deal_calc\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "deal_tot_usdollar":{
      "name":"deal_tot_usdollar",
      "vname":"LBL_DEAL_TOT",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"discount amount",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(isNumeric($deal_tot), currencyDivide($deal_tot, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "new_sub":{
      "name":"new_sub",
      "vname":"LBL_NEW_SUB",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Group total minus discount and tax and shipping",
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"currencySubtract($subtotal, $deal_tot)",
      "enforced":true,
      "calculated":true,
      "massupdate":false
   },
   "new_sub_usdollar":{
      "name":"new_sub_usdollar",
      "vname":"LBL_NEW_SUB",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Group total minus discount and tax and shipping",
      "studio":{
         "mobile":false
      },
      "readonly":true,
      "is_base_currency":true,
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"ifElse(isNumeric($new_sub), currencyDivide($new_sub, $base_rate), \"\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "subtotal":{
      "name":"subtotal",
      "vname":"LBL_SUBTOTAL",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Group total minus tax and shipping",
      "related_fields":[
         "currency_id",
         "base_rate"
      ],
      "formula":"rollupCurrencySum($products, \"subtotal\")",
      "calculated":true,
      "enforced":true,
      "massupdate":false
   },
   "shipping":{
      "name":"shipping",
      "vname":"LBL_SHIPPING",
      "type":"currency",
      "len":null,
      "disable_num_format":true,
      "comment":"Shipping charge for group",
      "related_fields":[
         "currency_id",
         "base_rate"
      ]
   },
   "taxrate":{
      "name":"taxrate",
      "type":"link",
      "relationship":"product_bundle_taxrate",
      "module":"TaxRates",
      "bean_name":"TaxRate",
      "source":"non-db"
   },
   "products":{
      "name":"products",
      "type":"link",
      "relationship":"product_bundle_product",
      "module":"Products",
      "bean_name":"Product",
      "source":"non-db",
      "rel_fields":{
         "product_index":{
            "type":"integer"
         }
      },
      "vname":"LBL_PRODUCTS"
   },
   "quotes":{
      "name":"quotes",
      "type":"link",
      "relationship":"product_bundle_quote",
      "module":"Quotes",
      "bean_name":"Quote",
      "source":"non-db",
      "rel_fields":{
         "bundle_index":{
            "type":"integer"
         }
      },
      "relationship_fields":{
         "bundle_index":"bundle_index"
      },
      "vname":"LBL_QUOTES"
   },
   "product_bundle_notes":{
      "name":"product_bundle_notes",
      "type":"link",
      "relationship":"product_bundle_note",
      "module":"ProductBundleNotes",
      "bean_name":"ProductBundleNote",
      "source":"non-db",
      "rel_fields":{
         "note_index":{
            "type":"integer"
         }
      },
      "vname":"LBL_NOTES"
   },
   "product_bundle_items":{
      "name":"product_bundle_items",
      "type":"collection",
      "vname":"LBL_PRODUCT_BUNDLES",
      "links":[
         "products",
         "product_bundle_notes"
      ],
      "source":"non-db",
      "order_by":"position:asc"
   },
   "position":{
      "massupdate":false,
      "name":"position",
      "type":"integer",
      "studio":false,
      "source":"non-db",
      "vname":"LBL_QUOTE_BUNDLE_POSITION",
      "importable":false,
      "link":"quotes",
      "rname_link":"bundle_index"
   },
   "team_id":{
      "name":"team_id",
      "vname":"LBL_TEAM_ID",
      "group":"team_name",
      "reportable":false,
      "dbType":"id",
      "type":"team_list",
      "audited":true,
      "duplicate_on_record_copy":"always",
      "comment":"Team ID for the account"
   },
   "team_set_id":{
      "name":"team_set_id",
      "rname":"id",
      "id_name":"team_set_id",
      "vname":"LBL_TEAM_SET_ID",
      "type":"id",
      "audited":true,
      "studio":"false",
      "dbType":"id",
      "duplicate_on_record_copy":"always"
   },
   "acl_team_set_id":{
      "name":"acl_team_set_id",
      "vname":"LBL_TEAM_SET_SELECTED_ID",
      "type":"id",
      "audited":true,
      "studio":false,
      "isnull":true,
      "duplicate_on_record_copy":"always"
   },
   "team_count":{
      "name":"team_count",
      "rname":"team_count",
      "id_name":"team_id",
      "vname":"LBL_TEAMS",
      "join_name":"ts1",
      "table":"teams",
      "type":"relate",
      "required":true,
      "isnull":"true",
      "module":"Teams",
      "link":"team_count_link",
      "massupdate":false,
      "dbType":"int",
      "source":"non-db",
      "importable":"false",
      "reportable":false,
      "duplicate_merge":"disabled",
      "duplicate_on_record_copy":"always",
      "studio":"false",
      "hideacl":true
   },
   "team_name":{
      "name":"team_name",
      "db_concat_fields":[
         "name",
         "name_2"
      ],
      "sort_on":"tj.name",
      "join_name":"tj",
      "rname":"name",
      "id_name":"team_id",
      "vname":"LBL_TEAMS",
      "type":"teamset",
      "required":true,
      "table":"teams",
      "isnull":"true",
      "module":"Teams",
      "link":"team_link",
      "massupdate":true,
      "dbType":"varchar",
      "source":"non-db",
      "custom_type":"teamset",
      "studio":{
         "portallistview":false,
         "portalrecordview":false
      },
      "duplicate_on_record_copy":"always",
      "exportable":true,
      "fields":[
         "acl_team_set_id"
      ]
   },
   "acl_team_names":{
      "name":"acl_team_names",
      "table":"teams",
      "module":"Teams",
      "vname":"LBL_TEAM_SET_SELECTED_TEAMS",
      "rname":"name",
      "id_name":"acl_team_set_id",
      "source":"non-db",
      "link":"team_link",
      "type":"teamset",
      "custom_type":"teamset",
      "exportable":true,
      "studio":false,
      "massupdate":false,
      "hideacl":true
   },
   "team_link":{
      "name":"team_link",
      "type":"link",
      "relationship":"productbundles_team",
      "vname":"LBL_TEAMS_LINK",
      "link_type":"one",
      "module":"Teams",
      "bean_name":"Team",
      "source":"non-db",
      "duplicate_merge":"disabled",
      "studio":"false"
   },
   "team_count_link":{
      "name":"team_count_link",
      "type":"link",
      "relationship":"productbundles_team_count_relationship",
      "link_type":"one",
      "module":"Teams",
      "bean_name":"TeamSet",
      "source":"non-db",
      "duplicate_merge":"disabled",
      "reportable":false,
      "studio":"false"
   },
   "teams":{
      "name":"teams",
      "type":"link",
      "relationship":"productbundles_teams",
      "bean_filter_field":"team_set_id",
      "rhs_key_override":true,
      "source":"non-db",
      "vname":"LBL_TEAMS",
      "link_class":"TeamSetLink",
      "link_file":"modules/Teams/TeamSetLink.php",
      "studio":"false",
      "reportable":false
   },
   "currency_id":{
      "name":"currency_id",
      "dbType":"id",
      "vname":"LBL_CURRENCY_ID",
      "type":"currency_id",
      "function":"getCurrencies",
      "function_bean":"Currencies",
      "required":false,
      "reportable":false,
      "default":"-99"
   },
   "base_rate":{
      "name":"base_rate",
      "vname":"LBL_CURRENCY_RATE",
      "type":"text",
      "dbType":"decimal",
      "len":null
   },
   "currency_name":{
      "name":"currency_name",
      "rname":"name",
      "id_name":"currency_id",
      "vname":"LBL_CURRENCY_NAME",
      "type":"relate",
      "link":"currencies",
      "isnull":true,
      "table":"currencies",
      "module":"Currencies",
      "source":"non-db",
      "studio":false,
      "duplicate_merge":"disabled",
      "function":"getCurrencies",
      "function_bean":"Currencies",
      "massupdate":false
   },
   "currency_symbol":{
      "name":"currency_symbol",
      "rname":"symbol",
      "id_name":"currency_id",
      "vname":"LBL_CURRENCY_SYMBOL",
      "type":"relate",
      "link":"currencies",
      "isnull":true,
      "table":"currencies",
      "module":"Currencies",
      "source":"non-db",
      "studio":false,
      "duplicate_merge":"disabled",
      "function":"getCurrencySymbols",
      "function_bean":"Currencies",
      "massupdate":false
   },
   "currencies":{
      "name":"currencies",
      "type":"link",
      "relationship":"productbundles_currencies",
      "source":"non-db",
      "vname":"LBL_CURRENCIES"
   },
   "_hash":"fabf2fb25c6ddf88b9c3d033301a1052"
}
